import * as bip39 from "bip39"
import { derivePath } from "ed25519-hd-key"
import nacl from "tweetnacl"

export function mnemonicToKeypair(mnemonic: string, account = 0) {
  const seed = bip39.mnemonicToSeedSync(mnemonic)
  const path = `m/44'/501'/${account}'/0'`
  const { key } = derivePath(path, seed.toString("hex"))
  const kp = nacl.sign.keyPair.fromSeed(key)
  return kp // {publicKey: Uint8Array, secretKey: Uint8Array}
}
